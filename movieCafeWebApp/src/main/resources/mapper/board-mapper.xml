<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Board">

	<resultMap type="boardVO" id="resultMapSelectList">
		<result property="cateNo" javaType="int" column="cateNo"
			jdbcType="INTEGER" />
		<result property="userNick" javaType="string" column="userNick" jdbcType="VARCHAR" />
		<result property="horse" javaType="string" column="horse"
			jdbcType="VARCHAR" />
		<result property="boardTitle" javaType="string"
			column="boardTitle" jdbcType="VARCHAR" />
		<result property="boardWdate" javaType="string"
			column="boardWdate" jdbcType="VARCHAR" />
		<result property="commentCount" javaType="int"
			column="commentCount" jdbcType="INTEGER" />
	</resultMap>

	<parameterMap type="int" id="paramMapSelectList">
		<parameter property="cateNo" javaType="int"
			jdbcType="INTEGER" mode="IN" />
	</parameterMap>

	<select id="selectByCateNo" statementType="CALLABLE"
		resultMap="resultMapSelectList" parameterType="string"
		parameterMap="paramMapSelectList">
		{ call sp_list_board(?) }
	</select>


	<resultMap type="boardVO" id="resultMapSelectDetail">
		<result property="boardNo" javaType="int" column="boardNo"
			jdbcType="INTEGER" />
		<result property="horse" javaType="string" column="horse"
			jdbcType="VARCHAR" />
		<result property="boardTitle" javaType="string"
			column="boardTitle" jdbcType="VARCHAR" />
		<result property="cateNo" javaType="int" column="cateNo"
			jdbcType="INTEGER" />
		<result property="userNick" javaType="string" column="userNick"
			jdbcType="VARCHAR" />
		<result property="horseNo" javaType="int" column="horseNo"
			jdbcType="INTEGER" />
		<result property="boardCount" javaType="int"
			column="boardCount" jdbcType="INTEGER" />
		<result property="boardWdate" javaType="string"
			column="boardWdate" jdbcType="VARCHAR" />
		<result property="commentCount" javaType="int"
			column="commentCount" jdbcType="INTEGER" />
		<result property="boardContent" javaType="string"
			column="boardContent" jdbcType="VARCHAR" />
	</resultMap>

	<parameterMap type="int" id="paramMapSelectDetail">
		<parameter property="boardNo" javaType="int"
			jdbcType="INTEGER" mode="IN" />
	</parameterMap>

	<select id="selectDetailBoard" statementType="CALLABLE"
		resultMap="resultMapSelectDetail" parameterType="int"
		parameterMap="paramMapSelectDetail">
		{ call sp_detail_board(?) }
	</select>

	<delete id="deleteBoard" statementType="CALLABLE"
		parameterType="int" parameterMap="paramMapSelectDetail">
		{ call sp_delete_board(?) }
	</delete>



	<insert id="reportBoard" statementType="CALLABLE"
		parameterType="int" parameterMap="paramMapSelectDetail">
		{ call sp_report(?) }
	</insert>


</mapper>