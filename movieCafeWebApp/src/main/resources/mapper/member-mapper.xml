<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Member">
	<!-- 로그인이 가능하면 1, 아이디가 DB에 없으면 0 -->
	<select id="checkIsUser" parameterType="hashMap" resultType="int" >
		SELECT COUNT( * ) 
		FROM user_info
		WHERE user_id = #{userId} AND user_pwd = #{userPwd}
	</select>
	
	<!-- 로그인을 위해 ID를 가지고 회원 정보를 가져온다. -->
	<select id="loginUser" parameterType="string" resultType="UserInfoVo">
		SELECT user_info.user_id, user_info.user_nick, rank.rank_type, 
				user_info.photo_sys, user_info.joindate
		FROM user_info INNER JOIN rank
		ON (user_info.user_id = rank.user_id) AND user_info.user_id = #{userId}
	</select>
	
</mapper>